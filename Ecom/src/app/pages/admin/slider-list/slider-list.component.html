<div class="p-6">

  <h2 class="text-2xl font-semibold mb-6">Sliders</h2>

  @if (loading()) {
    <div class="text-gray-600 animate-pulse">Loading sliders...</div>
  }

  @if (!loading() && error()) {
    <div class="bg-red-50 text-red-700 border border-red-200 p-3 rounded-lg mb-4">
      {{ error() }}
    </div>
  }

  @if (!loading() && sliders().length === 0) {
    <div class="text-gray-500">No sliders yet.</div>
  }

  @if (!loading() && sliders().length > 0) {

    <div class="grid grid-cols-1 md:grid-cols-2 gap-5">

      @for (slider of sliders(); track slider._id) {

        <div class="flex gap-4 p-4 bg-white rounded-xl border shadow-sm hover:shadow-md transition">

          <!-- IMAGE -->
          <img
            [src]="slider.imageUrl?.desktop || slider.imageUrl?.mobile"
            [alt]="slider.title"
            class="w-36 h-24 rounded-lg object-cover"
          />

          <div class="flex-1 space-y-1">

            <div class="text-lg font-semibold text-gray-800">{{ slider.title }}</div>

            @if (slider.subtitle) {
              <div class="text-sm text-gray-500">{{ slider.subtitle }}</div>
            }

            @if (slider.buttonLink) {
              <div class="text-sm text-blue-600">{{ slider.buttonLink }}</div>
            }

            <div class="text-xs text-gray-400 mt-1">
              Order: {{ slider.order }}
            </div>

            <!-- STATUS + ACTIONS -->
            <div class="flex items-center justify-between mt-2">

              <!-- ACTIVE BADGE -->
              <span
                class="px-2 py-1 text-xs rounded-lg font-medium"
                [class.bg-green-100]="slider.active"
                [class.text-green-700]="slider.active"
                [class.bg-red-100]="!slider.active"
                [class.text-red-700]="!slider.active"
              >
                {{ slider.active ? 'Active' : 'Inactive' }}
              </span>

              <div class="flex gap-3">

                <!-- TOGGLE BUTTON -->
                <button
                  class="px-3 py-1 rounded-lg text-sm transition"
                  [class.bg-yellow-100]="slider.active"
                  [class.text-yellow-800]="slider.active"
                  [class.bg-green-600]="!slider.active"
                  [class.text-white]="!slider.active"
                  (click)="toggleActive(slider)"
                >
                  {{ slider.active ? 'Deactivate' : 'Activate' }}
                </button>

                <!-- DELETE BUTTON -->
                <button
                  class="px-3 py-1 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 transition"
                  (click)="deleteSlider(slider._id)"
                >
                  Delete
                </button>

              </div>
            </div>

          </div>

        </div>

      }
    </div>
  }

</div>
